/**
 * jQuery.simplepopup - Modal popup with auto ajaxification of links and forms
 * Copyright (c) Ennexa Technologies (P) Ltd | http://www.ennexa.com/
 * Dual licensed under MIT and GPL.
 * @author Joyce Babu
 * @version 1.0.0
 *
 */
(function(a){var h=function(e,b){var f,g=this;this.options=b;this.__handle=e;f=b.popup||a('<div class="modal '+b.extraClass+'"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><h3 class="modal-title"/></div><div class="modal-body"/><div class="modal-footer"/></div></div></div>').appendTo("body");this.__target=a(f);this.__title=a(".modal-title",
f);this.__body=e.addClass("modal-body").replaceAll(a(".modal-body",f));this.__footer=a(".modal-footer",f);this.load=a.proxy(function(a,c){this.__body.load(a,function(){g.__setContent();c&&c.call(g)})},g);this.modal=a.proxy(function(a){this.__target.modal(a)},g);this.__setContent=a.proxy(function(d){var c=a(d||this.__handle),e=c.find("h1"),g=e.html()||this.options.title||"&nbsp;",h=c.find(".form-actions");this.options("title",g);if(b.footerAction){var k=h.closest("form");this.__footer.empty();h.removeClass("form-actions").find('[type="submit"],[type="reset"]').click(function(){if(k.length)k[this.type]()}).appendTo(this.__footer)}e.remove();
d&&this.__body.html(c);this.__body.trigger("simplepopupload",{element:this.__body,modal:f,simplepopup:this})},g);this.__target.on("click","a[href]:not([data-skip])",function(d){"#"!==a(this).attr("href")[0]&&(a.get(this.href,g.__setContent),d.preventDefault())}).on("submit","form:not([data-skip])",function(d){var c=d.target;a.ajax(c.getAttribute("action"),{data:a(c).serialize(),success:g.__setContent,method:c.getAttribute("method")||"GET"});d.preventDefault()});this.options=function(d,c){if(a.isPlainObject(d))for(var b in d)this.options(b,
d[b]);else"title"===d?this.__title.html(c):"show"===d?this.modal(c?"show":"hide"):"width"===d&&(b=this.__body.closest(".modal-dialog").removeClass("modal-lg modal-sm").css("width",""),isNaN(c)?b.addClass(c):b.css("width",c)),"keyboard"===d&&this.__title.prev(".close").css("display",c?"block":"none"),this.options[d]=c};this.options(b);this.__setContent();this.modal(b)};a.fn.simplepopup=function(e){var b=a(this).eq(0),f=b.data("$simplepopup"),g=a.extend(a.fn.simplepopup.defaults,b.data(),"object"==
typeof e&&e);f||b.data("$simplepopup",f=new h(b,g));f[e]&&f[e].apply(f,Array.prototype.slice.call(arguments,1));return this};a.fn.simplepopup.defaults={title:"",show:!0,backdrop:!0,keyboard:!0,footerAction:!0,extraClass:"fade",width:null}})(jQuery);(function(a){a(document).on("simplepopupload",function(h,e){a(h.target).find(".msgButton").find(".btn").each(function(){var b=a(this);"Back"===b.text()&&b.text("Close").attr({"data-dismiss":"modal","data-skip":"skip"})}).appendTo(e.simplepopup.__footer).end().end().remove()})})(jQuery);